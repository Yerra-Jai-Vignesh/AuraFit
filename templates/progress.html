{% extends "base.html" %}

{% block title %}Progress - AuraFit{% endblock %}

{% block content %}
<div style="max-width: 1200px; margin: 0 auto;">
    <div style="margin-bottom: 30px;">
        <h1 style="color: var(--primary-color); font-size: 2rem; margin-bottom: 10px;">Your Progress</h1>
        <p style="color: #666;">Track your fitness journey and achievements</p>
    </div>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-bottom: 30px;">
        <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
            <h3 style="color: #333; margin-bottom: 15px;">Weekly Summary</h3>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                <div>
                    <p style="color: #666; margin-bottom: 5px;">Workouts</p>
                    <p style="font-size: 1.5rem; color: var(--primary-color);">3/7</p>
                </div>
                <div>
                    <p style="color: #666; margin-bottom: 5px;">Calories</p>
                    <p style="font-size: 1.5rem; color: var(--primary-color);">1,250 kcal</p>
                </div>
                <div>
                    <p style="color: #666; margin-bottom: 5px;">Duration</p>
                    <p style="font-size: 1.5rem; color: var(--primary-color);">2.5 hrs</p>
                </div>
                <div>
                    <p style="color: #666; margin-bottom: 5px;">Streak</p>
                    <p style="font-size: 1.5rem; color: var(--primary-color);">5 days</p>
                </div>
            </div>
        </div>

        <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
            <h3 style="color: #333; margin-bottom: 15px;">Recent Workouts</h3>
            <div style="max-height: 300px; overflow-y: auto;">
                <div style="padding: 15px; border-bottom: 1px solid #eee;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <span style="font-weight: 500;">Morning Run</span>
                        <span style="color: #666;">Today</span>
                    </div>
                    <div style="display: flex; gap: 15px; color: #666;">
                        <span>30 min</span>
                        <span>250 kcal</span>
                    </div>
                </div>
                <div style="padding: 15px; border-bottom: 1px solid #eee;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <span style="font-weight: 500;">Strength Training</span>
                        <span style="color: #666;">Yesterday</span>
                    </div>
                    <div style="display: flex; gap: 15px; color: #666;">
                        <span>45 min</span>
                        <span>350 kcal</span>
                    </div>
                </div>
                <div style="padding: 15px;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 5px;">
                        <span style="font-weight: 500;">Yoga Session</span>
                        <span style="color: #666;">2 days ago</span>
                    </div>
                    <div style="display: flex; gap: 15px; color: #666;">
                        <span>60 min</span>
                        <span>200 kcal</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); margin-bottom: 30px;">
        <h3 style="color: #333; margin-bottom: 15px;">Performance Metrics</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
            <div>
                <p style="color: #666; margin-bottom: 5px;">Average Workout Duration</p>
                <p style="font-size: 1.5rem; color: var(--primary-color);">45 min</p>
            </div>
            <div>
                <p style="color: #666; margin-bottom: 5px;">Total Workouts</p>
                <p style="font-size: 1.5rem; color: var(--primary-color);">24</p>
            </div>
            <div>
                <p style="color: #666; margin-bottom: 5px;">Calories Burned</p>
                <p style="font-size: 1.5rem; color: var(--primary-color);">5,600 kcal</p>
            </div>
            <div>
                <p style="color: #666; margin-bottom: 5px;">Consistency Score</p>
                <p style="font-size: 1.5rem; color: var(--primary-color);">85%</p>
            </div>
        </div>
    </div>

    <div style="background: white; padding: 20px; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        <h3 style="color: #333; margin-bottom: 15px;">Log New Workout</h3>
        <form id="workout-form" style="display: grid; gap: 15px;">
            <div>
                <label style="display: block; margin-bottom: 5px; color: #333; font-weight: 500;">Workout Type</label>
                <select name="workout_type" required style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 1rem;">
                    <option value="">Select workout type</option>
                    <option value="running">Running</option>
                    <option value="strength">Strength Training</option>
                    <option value="yoga">Yoga</option>
                    <option value="cycling">Cycling</option>
                    <option value="swimming">Swimming</option>
                </select>
            </div>
            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px;">
                <div>
                    <label style="display: block; margin-bottom: 5px; color: #333; font-weight: 500;">Duration (minutes)</label>
                    <input type="number" name="duration" required min="1" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 1rem;">
                </div>
                <div>
                    <label style="display: block; margin-bottom: 5px; color: #333; font-weight: 500;">Calories Burned</label>
                    <input type="number" name="calories" required min="1" style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 1rem;">
                </div>
            </div>
            <div>
                <label style="display: block; margin-bottom: 5px; color: #333; font-weight: 500;">Notes</label>
                <textarea name="notes" style="width: 100%; height: 100px; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 1rem; resize: vertical;"></textarea>
            </div>
            <button type="submit" style="padding: 12px; background-color: var(--primary-color); color: white; border: none; border-radius: 5px; font-size: 1rem; font-weight: 500; cursor: pointer;">
                Log Workout
            </button>
        </form>
    </div>
</div>

<script>
document.getElementById('workout-form').addEventListener('submit', function(e) {
    e.preventDefault();
    
    const formData = new FormData(this);
    const workoutData = {
        type: formData.get('workout_type'),
        duration: parseInt(formData.get('duration')),
        calories: parseInt(formData.get('calories')),
        notes: formData.get('notes')
    };
    
    fetch('/log-workout', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(workoutData)
    })
    .then(response => {
        if (response.ok) {
            alert('Workout logged successfully!');
            this.reset();
            // Refresh the page to show new workout
            window.location.reload();
        }
    });
});
</script>
{% endblock %} 